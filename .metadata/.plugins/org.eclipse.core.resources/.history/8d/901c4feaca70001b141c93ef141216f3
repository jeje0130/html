<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

 <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  <script src="../js/board.js"></script>
  <script src="../js/jquery.serializejson.min.js"></script>
  
<style>
body{
	margin: 10px;
}
p{
	box-sizing : border-box;
}
.p1{
	width: 80%;
	float: left;
}
.p2{
	width:  20%;
	float: right;
}
.p3{
	clear: both;
}

button[name=reply]{
	height: 45px;
	vertical-align: top;
}

.panel-heading:hover{
	background: #FFC7AD;
}

.pager{
	width: 100px;
	float: left;
	margin: 5px;
}
.pul{
	margin-left: 20%;
}
label{
	display: inline-block;
	width: 100px;
	height: 30px;
}
</style>

<script>

$(function () {
	//readServer();
	readPageServer(1);
	
	//페이지번호, 이전 버튼 클릭에 대한 이벤트
	$('#pagelist').on('click','.paging', function () {
		//alert($(this).text());
		currentPage = $(this).text();
		
		readPageServer(currentPage);
	})
	
	//다음 버튼 클릭에 대한 이벤트
	$('#pagelist').on('click','.next', function () {
		
		currentPage = parseInt($('.paging').last().text()) + 1;
		
		readPageServer(currentPage);
	})
	
	//이전 버튼
	$('#pagelist').on('click', '.prev', function () {
		currentPage = parseInt($('.paging').first().text()) - 1;
		
		readPageServer(currentPage);
	})
	
	//각 버튼에 대한 이벤트(수정, 삭제, 댓글등록)
	$('.box').on('click','.action', function () {
		
		vname = $(this).attr('name');
		vidx = $(this).attr('idx');
		
		if(vname == "modify"){
			alert(vidx + "번글을 수정합니다.")
		}else if(vname == "delete"){
			alert(vidx + "번글을 삭제합니다.")
		}else if(vname == "reply"){
			alert(vidx + "번글에 댓글을 등록합니다.")
		}
		
	})
	
	// 전송 버튼에 대한 이벤트 (게시글 등록)
	$('#wsend').on('click', function () {
		
		insertBoard();
		
		//모달 창 닫기
		$('#writeModal').modal('hide');
		
	})
	
	
	
})
</script>

</head>
<body>

<h2>게시판</h2>
<br>
<br>
<button id="write" class="btn btn-warning" data-toggle="modal" data-target="#writeModal">글쓰기</button>
<br><br>
<div class="box">
</div>

<br><br>
<div id="pagelist">
</div>

<!-- Modal -->
<div id="writeModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">게시글 작성</h4>
      </div>
      <div class="modal-body">
        <form id="wform">
           <label>제목</label>
           <input name="subject"><br>
           
           <label>작성자</label>
           <input name="writer"><br>
           
           <label>메일</label>
           <input name="mail"><br>
           
           <label>비밀번호</label>
           <input type="password" name="password"><br>
           
           <label>내용</label><br>
           <textarea rows="10" cols="50" name="content"></textarea>
           <br>
           <button id="wsend" type="button" class="btn btn-success">전송</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>

</body>
</html>




